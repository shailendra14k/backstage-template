- route:
    id: route-5711
    from:
      id: from-3753
      uri: "timer://foo"
      parameters:
        period: "1000"
      steps:
        - setBody:
            simple: '{"FlightID": "${random(1000)}","Airline": "Indigo","FlightNumber": "6E2286","OperatedBy": "IndiGo Airlines","From": "Ranchi","To": "Delhi"}'
        - log:
            id: log-9575
            message: "${body}"
        - to:
            uri: "kafka:{{topicName.json}}"

- route:
    id: "api3"
    from:
      uri: "kafka:{{topicName.json}}?groupId={{consumergroup}}"
      steps:
        - to:
            uri: "xj:json2xml.xsl?transformDirection=JSON2XML"
        - log:
            message: "${body}"
        - to:
            uri: "azure-storage-blob://azuredemoshsingh/test?blobName={{blobName}}&operation=uploadBlockBlob"